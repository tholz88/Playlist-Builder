- alert: PrometheusUp2Minutes
  expr: up{job="prometheus"} == 1
  for: 2m
  labels:
    severity: info
  annotations:
    summary: "Prometheus has been up for at least 2 minutes."
    description: "The Prometheus target {{ $labels.instance }} has stayed UP for 2 minutes."

- alert: PrometheusHighMemoryUsage
  expr: |
    container_memory_usage_bytes{container="prometheus"} 
    / 
    machine_memory_bytes 
    > 0.9
  for: 1m
  labels:
    severity: warning
  annotations:
    summary: "Prometheus container is consuming over 90% of the machine memory."
    description: "Prometheus container is using {{ $value | humanizePercentage }} of total RAM."